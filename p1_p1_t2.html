<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اختبار مفهوم العلم لغةً واشتقاقاته</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
    /* تنسيقات عامة */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f5f5;
    color: #333;
    line-height: 1.6;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

.screen {
    display: none;
    background: linear-gradient(135deg, #3494E6, #EC6EAD);
    border-radius: 10px;
    padding: 30px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
}

.screen.active {
    display: block;
}

h1, h2, h3 {
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
}

.btn {
    display: block;
    width: 200px;
    margin: 20px auto;
    padding: 12px 20px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.btn:hover {
    background-color: #2980b9;
}

/* شاشة البداية */
#start-screen {
    text-align: center;
}

#start-screen p {
    margin-bottom: 30px;
    font-size: 18px;
}

/* شاشة الاختبار */
.header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid #eee;
}

.timer {
    font-weight: bold;
    color: #e74c3c;
    font-size: 18px;
}

.question-counter {
    font-weight: bold;
    color: #2c3e50;
}

.question-container {
    margin-bottom: 30px;
}

#question-text {
    margin-bottom: 20px;
    font-size: 20px;
}

.options {
    margin-bottom: 20px;
}

.option {
    display: block;
    width: 100%;
    padding: 12px 15px;
    margin-bottom: 10px;
    background-color: #f8f9fa;
    border: 1px solid #ddd;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s;
    text-align: right;
}

.option:hover {
    background-color: #e9ecef;
}

.option.selected {
    background-color: #3498db;
    color: white;
    border-color: #3498db;
}

.option.correct {
    background-color: #2ecc71;
    color: white;
    border-color: #2ecc71;
}

.option.incorrect {
    background-color: #e74c3c;
    color: white;
    border-color: #e74c3c;
}

.hint-container {
    margin-top: 20px;
}

.hint-btn {
    padding: 8px 15px;
    background-color: #f39c12;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin-bottom: 10px;
}

.hint-text {
    padding: 15px;
    background-color: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 5px;
    display: none;
}

.hint-text.show {
    display: block;
}

.navigation {
    display: flex;
    justify-content: space-between;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

.nav-btn {
    padding: 10px 15px;
    background-color: #95a5a6;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin: 5px;
    flex-grow: 1;
}

.nav-btn:hover {
    background-color: #7f8c8d;
}

.nav-btn.submit {
    background-color: #e74c3c;
}

.nav-btn.submit:hover {
    background-color: #c0392b;
}

.question-list {
    margin-top: 30px;
}

.numbers {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
}

.number {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #ecf0f1;
    border: 1px solid #bdc3c7;
    border-radius: 50%;
    cursor: pointer;
    font-weight: bold;
}

.number.current {
    background-color: #3498db;
    color: white;
    border-color: #3498db;
}

.number.answered {
    background-color: #2ecc71;
    color: white;
    border-color: #2ecc71;
}

.number.marked {
    background-color: #f39c12;
    color: white;
    border-color: #f39c12;
}

/* شاشة النتائج */
#results-screen {
    text-align: center;
}

.score {
    margin-bottom: 30px;
    font-size: 18px;
}

.score p {
    margin-bottom: 10px;
}

.chart-container {
    max-width: 400px;
    margin: 0 auto 30px;
}

.review {
    margin-bottom: 30px;
    text-align: right;
}

.answer-item {
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 5px;
    border-left: 5px solid #bdc3c7;
}

.answer-item.correct {
    background-color: #d5f4e6;
    border-left-color: #2ecc71;
}

.answer-item.incorrect {
    background-color: #fadbd8;
    border-left-color: #e74c3c;
}

.question-review {
    font-weight: bold;
    margin-bottom: 10px;
}

.user-answer, .correct-answer {
    margin-bottom: 5px;
}

/* التجاوب مع الشاشات الصغيرة */
@media (max-width: 600px) {
    .container {
        padding: 10px;
    }
    
    .screen {
        padding: 20px;
    }
    
    .header {
        flex-direction: column;
        gap: 10px;
    }
    
    .navigation {
        flex-direction: column;
    }
    
    .nav-btn {
        margin-bottom: 10px;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <div id="start-screen" class="screen active">
            <h1>تعريف العلم اصطلاحا من منظورات متعددة</h1>
            <p>يتكون من 40 سؤالا</p>
            <button id="start-btn" class="btn">بدء الاختبار</button>
        </div>

        <div id="quiz-screen" class="screen">
            <div class="header">
                <div class="timer">
                    الوقت المتبقي: <span id="time">30:00</span>
                </div>
                <div class="question-counter">
                    السؤال <span id="current-question">1</span> من <span id="total-questions">30</span>
                </div>
            </div>

            <div class="question-container">
                <h2 id="question-text"></h2>
                <div id="options-container" class="options"></div>
                
                <div class="hint-container">
                    <button id="hint-btn" class="hint-btn">إظهار التوضيح</button>
                    <div id="hint-text" class="hint-text"></div>
                </div>
            </div>

            <div class="navigation">
                <button id="prev-btn" class="nav-btn">السابق</button>
                <button id="mark-btn" class="nav-btn">مراجعة لاحقًا</button>
                <button id="next-btn" class="nav-btn">التالي</button>
                <button id="submit-btn" class="nav-btn submit">إنهاء الاختبار</button>
            </div>

            <div class="question-list">
                <h3>قائمة الأسئلة</h3>
                <div id="question-numbers" class="numbers"></div>
            </div>
        </div>

        <div id="results-screen" class="screen">
            <h1>نتيجة الاختبار</h1>
            <div class="score">
                <p>الإجابات الصحيحة: <span id="correct-answers">0</span> من <span id="total-answers">30</span></p>
                <p>النسبة المئوية: <span id="percentage">0%</span></p>
            </div>
            
            <div class="chart-container">
                <canvas id="results-chart"></canvas>
            </div>
            
            <div class="review">
                <h3>مراجعة الإجابات</h3>
                <div id="answers-review"></div>
            </div>
            
            <button id="restart-btn" class="btn">إعادة الاختبار</button>
        </div>
    </div>
    <script>
    // تعريف الأسئلة
    const questions = [
    /**
 * اختبار في التعريفات الاصطلاحية للعلم عبر المجالات المعرفية
 * (40 سؤال اختيار من متعدد) - مطابق للشكل المطلوب
 */
    
    {
        question: "ما الركيزة الأساسية التي يقوم عليها التعريف الاصطلاحي للعلم بشكل عام؟",
        options: ["الشك والتساؤل المستمر.", "الحدس والتخمين.", "الأساس اللغوي مع إضافة ضوابط جديدة.", "الرأي الشخصي والميول الفردية."],
        answer: "الأساس اللغوي مع إضافة ضوابط جديدة.",
        hint: "التعريف الاصطلاحي لا يلغي التعريف اللغوي بل يبني عليه ويضيف شروطاً تتناسب مع مجال الاستخدام."
    },
    {
        question: "أي من المجالات التالية يقدم التعريف الأكثر دقة واشتراطاً للعلم في التراث الإسلامي؟",
        options: ["علم الكلام.", "علم أصول الفقه.", "الفلسفة الإسلامية.", "المنطق."],
        answer: "علم أصول الفقه.",
        hint: "يشترط علم أصول الفقه الجزم والمطابقة للواقع بشكل صارم لبناء الأحكام التكليفية."
    },
    {
        question: "في التعريف الأصولي للعلم، ماذا يعني شرط \"الإدراك الجازم\"؟",
        options: ["الإدراك السريع للشيء.", "اليقين الذي لا يخالطه شك.", "الإدراك الناتج عن الحواس فقط.", "الإدراك الذي يتطلب وقتاً طويلاً."],
        answer: "اليقين الذي لا يخالطه شك.",
        hint: "الجزم هو عنصر اليقين والقطع الذي يميز العلم عن الظن والشك."
    },
    {
        question: "ما الذي يميز العلم عن \"الجهل المركب\" حسب التعريف الأصولي؟",
        options: ["سرعة الحصول على المعلومة.", "المطابقة للواقع.", "الاعتماد على المصادر الموثوقة.", "سهولة تطبيقه."],
        answer: "المطابقة للواقع.",
        hint: "الجهل المركب هو الاعتقاد بشيء خاطئ مع الجزم به، لذا فالعلم يقتضي المطابقة للواقع."
    },
    {
        question: "من هو العالم الذي عرف العلم بأنه \"اعتقاد الشيء على ما هو به مع الجزم به\"؟",
        options: ["الغزالي.", "الآمدي.", "ابن الحاجب.", "التفتازاني."],
        answer: "الآمدي.",
        hint: "هذا التعريف مذكور في كتاب \"الإحكام في أصول الأحكام\" للآمدي."
    },
    {
        question: "ما الفرق الجوهري بين العلم والظن حسب الرؤية الأصولية؟",
        options: ["مصدر المعلومة.", "درجة اليقين والجزم.", "الوقت المستغرق للوصول إلى المعلومة.", "عدد الناس الذين يعرفون المعلومة."],
        answer: "درجة اليقين والجزم.",
        hint: "الظن هو ترجيح أحد الاحتمالين دون جزم تام، بينما العلم يقين محقق."
    },
    {
        question: "العلم الذي يحصل بلا تكلف أو استدلال، كالعلم بأن النار محرقة، يسمى:",
        options: ["العلم النظري.", "العلم الكسبي.", "العلم الضروري.", "العلم الحصولي."],
        answer: "العلم الضروري.",
        hint: "العلم الضروري يحصل للإنسان بشكل فطري وبديهي دون حاجة إلى تأمل أو استدلال."
    },
    {
        question: "أي آية قرآنية ذمت اتباع الظن في أمور العقيدة؟",
        options: ["﴿إِنْ يَتَّبِعُونَ إِلَّا الظَّنَّ وَإِنْ هُمْ إِلَّا يَخْرُصُونَ﴾.", "﴿وَإِنَّهُ لَعِلْمٌ لِّلسَّاعَةِ﴾.", "﴿فَإِنْ عَلِمْتُمُوهُنَّ مُؤْمِنَاتٍ﴾.", "﴿وَعَلَّمَ آدَمَ الْأَسْمَاءَ كُلَّهَا﴾."],
        answer: "﴿إِنْ يَتَّبِعُونَ إِلَّا الظَّنَّ وَإِنْ هُمْ إِلَّا يَخْرُصُونَ﴾.",
        hint: "الآية من سورة الأنعام تحذر من اتباع الظن الذي لا يقوم على دليل يقيني."
    },
    {
        question: "كيف يعرف المنطقيون العلم؟",
        options: ["إدراك جازم مطابق للواقع.", "صورة الشيء في العقل.", "عرض قائم بالعالم.", "المعرفة المنظمة عبر المنهج العلمي."],
        answer: "صورة الشيء في العقل.",
        hint: "المنطق يهتم بكيفية تشكل المعرفة في الذهن، لذا يعرف العلم بحصول صورة المعلوم في العقل."
    },
    {
        question: "من القائل: \"العلم: صورة الشيء المعلوم في نفس العالم\"؟",
        options: ["الآمدي.", "الغزالي.", "السعد التفتازاني.", "القاضي عبد الجبار."],
        answer: "السعد التفتازاني.",
        hint: "هذا التعريف ورد في كتاب \"شرح المقاصد\" للتفتازاني."
    },
    {
        question: "ما النوع من العلم الذي يعني \"حضور حقيقة الشيء لدى العالم من غير توسط صورة ذهنية\"؟",
        options: ["العلم الحصولي.", "العلم النظري.", "العلم الحضوري.", "العلم الضروري."],
        answer: "العلم الحضوري.",
        hint: "العلم الحضوري مباشر وبسيط، كعلم الإنسان بذاته أو بمشاعره."
    },
    {
        question: "مثال على \"العلم الحصولي\" هو:",
        options: ["علمك بوجود جبل إيفرست.", "علمك بذاتك.", "شعورك بالفرح.", "علمك بأحوالك النفسية."],
        answer: "علمك بوجود جبل إيفرست.",
        hint: "العلم الحصولي يتوسط فيه صورة ذهنية، كأن تتخيل الجبل أو تسمع عنه."
    },
    {
        question: "أي مدرسة كلامية تعتبر العلم \"عرضاً قائماً بالعالم\"؟",
        options: ["المعتزلة.", "الأشاعرة.", "الشيعة.", "المرجئة."],
        answer: "الأشاعرة.",
        hint: "الأشاعرة يرون أن العلم صفة زائدة على الذات، تقوم بالعالم (القلب أو النفس)."
    },
    {
        question: "ما الدليل الذي استخدمه الأشاعرة على أن العلم \"عرض قائم بالعالم\"؟",
        options: ["ثبوت المعلوم في الخارج.", "انتقال الإنسان من الجهل إلى العلم.", "وجود الصورة الذهنية.", "النص القرآني الصريح."],
        answer: "انتقال الإنسان من الجهل إلى العلم.",
        hint: "انتقال الإنسان من حالة إلى أخرى دليل على حدوث صفة جديدة فيه، وهي العلم."
    },
    {
        question: "الموقف الذي ترى فيه المعتزلة أن العلم \"هو المعلوم نفسه\" أو \"معنى قائم بالذات\" يدل على:",
        options: ["أن العلم صفة أزلية.", "أن العلم غير حادث.", "رفضهم أن يكون العلم صفة مستقلة.", "اتفاقهم مع الأشاعرة في المبدأ."],
        answer: "رفضهم أن يكون العلم صفة مستقلة.",
        hint: "المعتزلة لا يعتبرون العلم صفة زائدة على الذات، بل هو كشف للمعلوم في الذهن."
    },
    {
        question: "من مؤلف كتاب \"المواقف في علم الكلام\" الذي أشار إلى تعريف العلم عند الأشاعرة؟",
        options: ["الإيجي.", "القاضي عبد الجبار.", "الغزالي.", "الآمدي."],
        answer: "الإيجي.",
        hint: "كتاب \"المواقف\" للإيجي هو من أهم كتب المتأخرين في علم الكلام على مذهب الأشاعرة."
    },
    {
        question: "ما السمة الرئيسية التي تميز تعريف العلم في المنظور الحديث (Science)؟",
        options: ["الإدراك الجازم المطابق للواقع.", "المعرفة المنظمة عبر المنهج العلمي.", "صورة الشيء في العقل.", "العرض القائم بالعالم."],
        answer: "المعرفة المنظمة عبر المنهج العلمي.",
        hint: "العلم الحديث يركز على المنهجية الإجرائية للوصول إلى المعرفة أكثر من التركيز على حالة اليقين الذهنية."
    },
    {
        question: "أي من الخصائص التالية تعتبر من أساسيات العلم الحديث حسب كارل بوبر؟",
        options: ["الإجماع العلمي.", "القدرة على التكذيب.", "القدم والاستمرارية.", "البساطة والوضوح."],
        answer: "القدرة على التكذيب.",
        hint: "مبدأ القابلية للتكذيب يعني أن النظرية العلمية يجب أن تكون قابلة للدحض بالدليل التجريبي."
    },
    {
        question: "ما الفرق بين \"العلم\" (Science) و \"المعرفة\" (Knowledge) في المنظور الحديث؟",
        options: ["لا فرق بينهما.", "العلم أعم وأشمل من المعرفة.", "العلم جزء من المعرفة يتميز بمنهجيته التجريبية.", "المعرفة خاصة بالعلوم الإنسانية فقط."],
        answer: "العلم جزء من المعرفة يتميز بمنهجيته التجريبية.",
        hint: "كل علم هو معرفة، ولكن ليس كل معرفة علماً بالمعنى الحديث، لأنه قد يفتقر للمنهجية التجريبية."
    },
    {
        question: "أي من الأمثلة التالية يعد نموذجياً للعلم الحديث (Science)؟",
        options: ["العلم بوجوب الصلاة.", "نظرية النسبية.", "التصور الذهني للتفاحة.", "الاعتقاد الجازم بالله."],
        answer: "نظرية النسبية.",
        hint: "نظرية النسبية بنيت على ملاحظات وتجارب ورياضيات وهي قابلة للاختبار والتكذيب."
    },
    {
        question: "في الجدول المقارن للتعريفات، ما الركيزة الأساسية للعلم في المنظور الأصولي؟",
        options: ["المنهج التجريبي.", "اليقين والموافقة للواقع.", "حصول الصورة الذهنية.", "كونه صفة زائدة على الذات."],
        answer: "اليقين والموافقة للواقع.",
        hint: "جل اهتمام الأصولي هو بناء الأحكام، مما يتطلب يقيناً تاماً بمطابقة الإدراك للواقع."
    },
    {
        question: "في الجدول المقارن، أي منظور يعتبر العلم \"عرضاً قائماً بالعالم\"؟",
        options: ["أصول الفقه.", "المنطق.", "علم الكلام (أشاعرة).", "المنظور الحديث."],
        answer: "علم الكلام (أشاعرة).",
        hint: "هذا الموقف خاص بعلم الكلام على مذهب الأشاعرة."
    },
    {
        question: "أي كتاب من الكتب التالية يعتبر مرجعاً أساسياً في فلسفة العلم الحديث؟",
        options: ["\"الإحكام في أصول الأحكام\".", "\"بنية الثورات العلمية\".", "\"شرح المقاصد\".", "\"المواقف في علم الكلام\"."],
        answer: "\"بنية الثورات العلمية\".",
        hint: "كتاب \"بنية الثورات العلمية\" لتوماس كون من الكلاسيكيات في فلسفة العلم."
    },
    {
        question: "ما الطابع العام للتعريفات الاصطلاحية للعلم كما ورد في الخلاصة؟",
        options: ["أنها تعريفات جامدة ومتطابقة.", "أنها تعكس الرؤية الكونية للمجال الذي تستخدم فيه.", "أنها تتعارض مع التعريف اللغوي.", "أنها تخص العصور القديمة فقط."],
        answer: "أنها تعكس الرؤية الكونية للمجال الذي تستخدم فيه.",
        hint: "كل تعريف يصبغ العلم بصبغة المجال المعرفي الذي ينتمي إليه وأسئلته الخاصة."
    },
    {
        question: "من هو صاحب كتاب \"المستصفى\" الذي أكد على عنصر الجزم في تعريف العلم؟",
        options: ["الآمدي.", "الغزالي.", "ابن الحاجب.", "التفتازاني."],
        answer: "الغزالي.",
        hint: "\"المستصفى في أصول الفقه\" هو من تأليف الإمام الغزالي."
    },
    {
        question: "العلم النظري في الاصطلاح الشرعي هو الذي:",
        options: ["يحصل بلا تكلف.", "يحتاج إلى فكر واستدلال.", "يكون متعلقاً بالحواس فقط.", "يكون مشوباً بالشك."],
        answer: "يحتاج إلى فكر واستدلال.",
        hint: "العلم النظري هو ما احتاج إلى نظر وتأمل واستنباط، كاستدلال العقل على وجود الصانع."
    },
    {
        question: "ما المثال الذي يوضح \"الجهل المركب\" في الجدول الوارد في النص الأصلي؟",
        options: ["القول: \"لا أدري\".", "القول: \"فتح مكة في العام الثامن\".", "القول: \"فتح مكة في العام التاسع\".", "القول: \"ربما في السابع أو الثامن\"."],
        answer: "القول: \"فتح مكة في العام التاسع\".",
        hint: "الجهل المركب هو الاعتقاد بخطأ مع الجزم به، كالقول بفتح مكة في التاسع مع وقوعه في الثامن."
    },
    {
        question: "أي من التعريفات التالية يرفضه متكلمو الأشاعرة؟",
        options: ["إدراك الشيء على ما هو عليه إدراكاً جازماً.", "صورة الشيء في العقل.", "الاعتقاد الجازم المطابق للواقع.", "المعرفة المنظمة عبر المنهج العلمي."],
        answer: "صورة الشيء في العقل.",
        hint: "الأشاعرة يرفضون تعريف الفلاسفة القائم على \"الصورة في العقل\" ويفضلون تعريفه كصفة (عرض)."
    },
    {
        question: "ما المقصود بـ \"الطبيعة التراكمية\" للعلم الحديث؟",
        options: ["أنه يبني على ما سبقه من معارف.", "أنه يبدأ من الصفر دائماً.", "أنه يثبت جميع النظريات السابقة.", "أنه يرفض كل التراث العلمي."],
        answer: "أنه يبني على ما سبقه من معارف.",
        hint: "التراكمية تعني أن المعرفة العلمية تتقدم بتصحيح وتطوير النظريات القائمة، وليس بإلغائها بالكلية."
    },
    {
        question: "أي من الخصائص التالية تركز عليها \"الموضوعية\" في العلم الحديث؟",
        options: ["فصل ذاتية الباحث عن نتائج البحث.", "التأثر بشعور الباحث.", "اتباع الهوى الشخصي.", "الاعتماد على الرؤية الدينية فقط."],
        answer: "فصل ذاتية الباحث عن نتائج البحث.",
        hint: "الموضوعية تسعى لاستبعاد التحيزات الشخصية والعاطفية للباحث لتكون النتائج قابلة للتكرار والتحقق."
    },
    {
        question: "من هو مؤلف كتاب \"المغني في أبواب التوحيد والعدل\" الذي يمثل المدرسة المعتزلة؟",
        options: ["الإيجي.", "القاضي عبد الجبار.", "الغزالي.", "الآمدي."],
        answer: "القاضي عبد الجبار.",
        hint: "\"المغني\" للقاضي عبد الجبار هو من أهم مصنفات المعتزلة في علم الكلام."
    },
    {
        question: "في تعريف الآمدي للعلم، ما معنى \"اعتقاد الشيء\"؟",
        options: ["الشك فيه.", "الظن به.", "الجزم به وإدراكه.", "الوهم به."],
        answer: "الجزم به وإدراكه.",
        hint: "الاعتقاد في المصطلح الأصولي لا يعني مجرد التصديق، بل التصديق الجازم."
    },
    {
        question: "أي نوع من العلوم التالية يعد مثالاً على \"العلم الحضوري\"؟",
        options: ["معرفة قانون الجاذبية.", "علمك بشعورك بالجوع.", "علمك بتاريخ بلدك.", "علمك بجدول الضرب."],
        answer: "علمك بشعورك بالجوع.",
        hint: "العلم الحضوري مباشر ولا يتوسط فيه صورة، كالعلم بالحالات الذاتية للشخص."
    },
    {
        question: "ما الغاية الأساسية من اشتراط \"الجزم\" في التعريف الأصولي للعلم؟",
        options: ["تسريع عملية التعلم.", "ضمان صحة الأحكام الشرعية المبنية عليه.", "تقليل الاعتماد على الحواس.", "توحيد آراء العلماء."],
        answer: "ضمان صحة الأحكام الشرعية المبنية عليه.",
        hint: "الأحكام الشرعية، خاصة في العقائد والعبادات، تبنى على اليقين لا على الظن."
    },
    {
        question: "كيف يمكن وصف الموقف المعتزلي من طبيعة العلم مقارنة بالموقف الأشعري؟",
        options: ["موقفان متطابقان.", "الموقف المعتزلي يرى العلم كصفة، بينما الأشعري يرى أنه كشف.", "الموقف الأشعري يرى العلم كصفة، بينما المعتزلي يرى أنه كشف.", "كلا الموقفين يرفضان وجود العلم كحقيقة."],
        answer: "الموقف الأشعري يرى العلم كصفة، بينما المعتزلي يرى أنه كشف.",
        hint: "الخلاف جوهري: الأشاعرة: علم = صفة قائمة بالعالم. المعتزلة: علم = كشف للمعلوم (المعلوم نفسه في الذهن)."
    },
    {
        question: "أي من الخطوات التالية لا يعتبر جزءاً من المنهج العلمي الحديث؟",
        options: ["الملاحظة.", "صياغة الفرضيات.", "الاعتماد على الأحلام.", "الاختبار والتجربة."],
        answer: "الاعتماد على الأحلام.",
        hint: "المنهج العلمي قائم على procedures منهجية قابلة للملاحظة والتحقق، وليس على التخمينات غير المنظمة أو الأحلام."
    },
    {
        question: "ما المصطلح الذي يعبر عن \"ترجيح الاحتمال المرجوح مع ذكر الراجح\" حسب الجدول الوارد؟",
        options: ["العلم.", "الظن.", "الوهم.", "الشك."],
        answer: "الوهم.",
        hint: "الوهم هو حالة ذهنية يرجح فيها الشخص الجانب الأضعف من الاحتمالات."
    },
    {
        question: "أي من المؤلفات التالية يعتبر مرجعاً في الفلسفة الإسلامية المتعالية؟",
        options: ["\"الإحكام في أصول الأحكام\".", "\"الحكمة المتعالية\".", "\"المستصفى\".", "\"المواقف\"."],
        answer: "\"الحكمة المتعالية\".",
        hint: "\"الحكمة المتعالية\" هو الكتاب الرئيسي للفيلسوف صدر الدين الشيرازي (ملاصدرا)."
    },
    {
        question: "ما الذي تنتقده الرؤية الحديثة للعلم إذا افتقرت النظرية لخاصية \"القابلية للتكذيب\"؟",
        options: ["أنها ليست رياضية بما فيه الكفاية.", "أنها ليست علمية بالمعنى الدقيق.", "أنها صحيحة حتماً.", "أنها سهلة الفهم."],
        answer: "أنها ليست علمية بالمعنى الدقيق.",
        hint: "نظرية لا يمكن دحضها بأي دليل تجريبي محتمل تخرج من دائرة العلم إلى دائرة الميتافيزيقا أو الأيديولوجيا."
    },
    {
        question: "النتيجة الرئيسية المستخلصة من تعدد التعريفات الاصطلاحية للعلم هي:",
        options: ["استحالة تعريف العلم.", "تفوق تعريف على الآخر بشكل مطلق.", "أن كل تعريف يخدم غاية مجاله المعرفي.", "أن جميع التعريفات خاطئة."],
        answer: "أن كل تعريف يخدم غاية مجاله المعرفي.",
        hint: "تعدد التعريفات ليس تناقضاً، بل هو ثراء يعكس الزوايا المختلفة التي ينظر منها كل تخصص إلى ظاهرة المعرفة."
    }
];

    // متغيرات التطبيق
    let currentQuestion = 0;
    let userAnswers = Array(questions.length).fill(null);
    let markedQuestions = Array(questions.length).fill(false);
    let timeLeft = 2400; // 30 دقيقة بالثواني
    let timerInterval;
    let quizStarted = false;

    // عناصر DOM
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultsScreen = document.getElementById('results-screen');
    const startBtn = document.getElementById('start-btn');
    const timeDisplay = document.getElementById('time');
    const currentQuestionDisplay = document.getElementById('current-question');
    const totalQuestionsDisplay = document.getElementById('total-questions');
    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const hintBtn = document.getElementById('hint-btn');
    const hintText = document.getElementById('hint-text');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const markBtn = document.getElementById('mark-btn');
    const submitBtn = document.getElementById('submit-btn');
    const questionNumbers = document.getElementById('question-numbers');
    const correctAnswersDisplay = document.getElementById('correct-answers');
    const totalAnswersDisplay = document.getElementById('total-answers');
    const percentageDisplay = document.getElementById('percentage');
    const answersReview = document.getElementById('answers-review');
    const restartBtn = document.getElementById('restart-btn');

    // تهيئة التطبيق
    function init() {
        console.log("تم تحميل التطبيق بنجاح");
        
        // تعيين عدد الأسئلة الكلي
        totalQuestionsDisplay.textContent = questions.length;
        
        // إنشاء أرقام الأسئلة
        createQuestionNumbers();
        
        // إضافة مستمعي الأحداث
        startBtn.addEventListener('click', startQuiz);
        prevBtn.addEventListener('click', showPreviousQuestion);
        nextBtn.addEventListener('click', showNextQuestion);
        markBtn.addEventListener('click', toggleMarkQuestion);
        submitBtn.addEventListener('click', showResults);
        hintBtn.addEventListener('click', toggleHint);
        restartBtn.addEventListener('click', restartQuiz);
        
        console.log("تم تهيئة التطبيق بنجاح");
    }

    // إنشاء أرقام الأسئلة
    function createQuestionNumbers() {
        questionNumbers.innerHTML = '';
        
        for (let i = 0; i < questions.length; i++) {
            const number = document.createElement('div');
            number.className = 'number';
            number.textContent = i + 1;
            number.dataset.index = i;
            
            number.addEventListener('click', function() {
                const index = parseInt(this.dataset.index);
                goToQuestion(index);
            });
            
            questionNumbers.appendChild(number);
        }
    }

    // بدء الاختبار
    function startQuiz() {
        console.log("تم النقر على زر بدء الاختبار");
        
        // إخفاء شاشة البداية وإظهار شاشة الاختبار
        startScreen.classList.remove('active');
        quizScreen.classList.add('active');
        
        // تحديث نص وصف الاختبار في شاشة البداية
        document.querySelector('#start-screen p').textContent = `يتكون هذا الاختبار من ${questions.length} أسئلة حول مفهوم العلم في اللغة العربية واشتقاقاته`;
        
        // بدء المؤقت
        startTimer();
        
        // عرض السؤال الأول
        showQuestion(currentQuestion);
        
        console.log("بدأ الاختبار بنجاح");
    }

    // بدء المؤقت
    function startTimer() {
        updateTimerDisplay();
        
        timerInterval = setInterval(function() {
            timeLeft--;
            updateTimerDisplay();
            
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                showResults();
            }
        }, 1000);
    }

    // تحديث عرض المؤقت
    function updateTimerDisplay() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        timeDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }

    // عرض السؤال الحالي
    function showQuestion(index) {
        currentQuestion = index;
        const question = questions[index];
        
        // تحديث رقم السؤال الحالي
        currentQuestionDisplay.textContent = index + 1;
        
        // عرض نص السؤال
        questionText.textContent = question.question;
        
        // عرض الخيارات
        optionsContainer.innerHTML = '';
        
        question.options.forEach(option => {
            const optionElement = document.createElement('div');
            optionElement.className = 'option';
            
            if (userAnswers[index] === option) {
                optionElement.classList.add('selected');
            }
            
            optionElement.textContent = option;
            
            optionElement.addEventListener('click', function() {
                selectOption(option);
            });
            
            optionsContainer.appendChild(optionElement);
        });
        
        // تحديث حالة زر التوضيح
        hintText.classList.remove('show');
        hintBtn.textContent = 'إظهار التوضيح';
        
        // تحديث أرقام الأسئلة
        updateQuestionNumbers();
        
        // تحديث حالة أزرار التنقل
        prevBtn.disabled = index === 0;
        nextBtn.disabled = index === questions.length - 1;
        
        // تحديث حالة زر المراجعة لاحقًا
        markBtn.textContent = markedQuestions[index] ? 'إلغاء المراجعة' : 'مراجعة لاحقًا';
    }

    // تحديد خيار
    function selectOption(option) {
        userAnswers[currentQuestion] = option;
        showQuestion(currentQuestion);
    }

    // تبديل عرض التوضيح
    function toggleHint() {
        const isHintVisible = hintText.classList.contains('show');
        
        if (isHintVisible) {
            hintText.classList.remove('show');
            hintBtn.textContent = 'إظهار التوضيح';
        } else {
            hintText.textContent = questions[currentQuestion].hint;
            hintText.classList.add('show');
            hintBtn.textContent = 'إخفاء التوضيح';
        }
    }

    // الانتقال إلى السؤال السابق
    function showPreviousQuestion() {
        if (currentQuestion > 0) {
            showQuestion(currentQuestion - 1);
        }
    }

    // الانتقال إلى السؤال التالي
    function showNextQuestion() {
        if (currentQuestion < questions.length - 1) {
            showQuestion(currentQuestion + 1);
        }
    }

    // الانتقال إلى سؤال محدد
    function goToQuestion(index) {
        showQuestion(index);
    }

    // تبديل حالة المراجعة لاحقًا
    function toggleMarkQuestion() {
        markedQuestions[currentQuestion] = !markedQuestions[currentQuestion];
        markBtn.textContent = markedQuestions[currentQuestion] ? 'إلغاء المراجعة' : 'مراجعة لاحقًا';
        updateQuestionNumbers();
    }

    // تحديث أرقام الأسئلة
    function updateQuestionNumbers() {
        const numbers = document.querySelectorAll('.number');
        
        numbers.forEach((number, index) => {
            number.classList.remove('current', 'answered', 'marked');
            
            if (index === currentQuestion) {
                number.classList.add('current');
            }
            
            if (userAnswers[index] !== null) {
                number.classList.add('answered');
            }
            
            if (markedQuestions[index]) {
                number.classList.add('marked');
            }
        });
    }

    // عرض النتائج
    function showResults() {
        // إيقاف المؤقت
        clearInterval(timerInterval);
        
        // إخفاء شاشة الاختبار وإظهار شاشة النتائج
        quizScreen.classList.remove('active');
        resultsScreen.classList.add('active');
        
        // حساب النتائج
        let correctCount = 0;
        
        questions.forEach((question, index) => {
            if (userAnswers[index] === question.answer) {
                correctCount++;
            }
        });
        
        const percentage = Math.round((correctCount / questions.length) * 100);
        
        // عرض النتائج
        correctAnswersDisplay.textContent = correctCount;
        totalAnswersDisplay.textContent = questions.length;
        percentageDisplay.textContent = `${percentage}%`;
        
        // رسم المخطط البياني
        drawChart(correctCount, questions.length - correctCount);
        
        // عرض مراجعة الإجابات
        displayAnswersReview();
    }

    // رسم المخطط البياني
    function drawChart(correct, incorrect) {
        const ctx = document.getElementById('results-chart').getContext('2d');
        
        // إذا كان هناك مخطط بياني موجود، قم بتدميره أولاً
        if (window.resultChart) {
            window.resultChart.destroy();
        }
        
        window.resultChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['الإجابات الصحيحة', 'الإجابات الخاطئة'],
                datasets: [{
                    data: [correct, incorrect],
                    backgroundColor: ['#2ecc71', '#e74c3c'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });
    }

    // عرض مراجعة الإجابات
    function displayAnswersReview() {
        answersReview.innerHTML = '';
        
        questions.forEach((question, index) => {
            const answerItem = document.createElement('div');
            const isCorrect = userAnswers[index] === question.answer;
            
            answerItem.className = `answer-item ${isCorrect ? 'correct' : 'incorrect'}`;
            
            let reviewContent = `
                <div class="question-review">${index + 1}. ${question.question}</div>
                <div class="user-answer">إجابتك: ${userAnswers[index] || 'لم تجب'}</div>
                <div class="correct-answer">الإجابة الصحيحة: ${question.answer}</div>
            `;
            
            if (!isCorrect && userAnswers[index]) {
                reviewContent += `<div class="hint-review">التوضيح: ${question.hint}</div>`;
            }
            
            answerItem.innerHTML = reviewContent;
            answersReview.appendChild(answerItem);
        });
    }

    // إعادة الاختبار
    function restartQuiz() {
        // إعادة تعيين المتغيرات
        currentQuestion = 0;
        userAnswers = Array(questions.length).fill(null);
        markedQuestions = Array(questions.length).fill(false);
        timeLeft = 2400; // إعادة تعيين الوقت إلى 30 دقيقة
        
        // إعادة تعيين الشاشات
        resultsScreen.classList.remove('active');
        startScreen.classList.add('active');
        
        // إعادة تعيين المخطط البياني
        if (window.resultChart) {
            window.resultChart.destroy();
        }
    }

    // تهيئة التطبيق عند تحميل الصفحة
    document.addEventListener('DOMContentLoaded', function() {
        console.log("تم تحميل DOM بالكامل");
        init();
    });
    </script>
</body>
</html>